<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="de">
<head>
<!-- Generated by javadoc (1.8.0_102) on Tue Sep 20 18:07:33 CEST 2016 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Refresher</title>
<meta name="date" content="2016-09-20">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Refresher";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":9,"i8":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../de/vibora/vibora_dieapp/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../de/vibora/vibora_dieapp/QuitDialogFragment.html" title="class in de.vibora.vibora_dieapp"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../de/vibora/vibora_dieapp/ViboraApp.html" title="class in de.vibora.vibora_dieapp"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?de/vibora/vibora_dieapp/Refresher.html" target="_top">Frames</a></li>
<li><a href="Refresher.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">de.vibora.vibora_dieapp</div>
<h2 title="Class Refresher" class="title">Class Refresher</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>de.vibora.vibora_dieapp.Refresher</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">Refresher</span>
extends java.lang.Object</pre>
<div class="block">Der Typ Refresher ist ein Singelton.
 Diese Klasse hat alle nötigen Methoden, um über den AlarmManager bzw
 den Alarm <a href="../../../de/vibora/vibora_dieapp/Alarm.html" title="class in de.vibora.vibora_dieapp"><code>Alarm</code></a> mit einer Feed-Quelle zu kommunizieren. Der Refresher
 erstellt auch die Notifications.</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../de/vibora/vibora_dieapp/Alarm.html" title="class in de.vibora.vibora_dieapp"><code>Alarm</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.ArrayList&lt;ContentValues&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/vibora/vibora_dieapp/Refresher.html#Z:Z_newFeeds">_newFeeds</a></span></code>
<div class="block">Dieses Array nimmt neue Feeds auf, um beim Erzeugen von Notifikations nicht
 den umweg über die Datenbank gehen zu müssen.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>org.w3c.dom.Document</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/vibora/vibora_dieapp/Refresher.html#getDoc--">getDoc</a></span>()</code>
<div class="block">Holt Seite von _rssurl und legt diese in XML-Doc ab.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/vibora/vibora_dieapp/Refresher.html#ifModifiedSinceDate--">ifModifiedSinceDate</a></span>()</code>
<div class="block">Holt aus den Preferences das Date des letzten Refresh.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/vibora/vibora_dieapp/Refresher.html#insertToDb-org.w3c.dom.Document-">insertToDb</a></span>(org.w3c.dom.Document&nbsp;doc)</code>
<div class="block">Das Doc wird ausgelesen und in die DB geschrieben.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/vibora/vibora_dieapp/Refresher.html#isOnline--">isOnline</a></span>()</code>
<div class="block">Prüft, ob das Gerät online ist.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/vibora/vibora_dieapp/Refresher.html#isReallyFresh-java.util.Date-java.lang.String-">isReallyFresh</a></span>(java.util.Date&nbsp;date,
             java.lang.String&nbsp;title)</code>
<div class="block">Entscheidet, ob ein Feed neu ist.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/vibora/vibora_dieapp/Refresher.html#makeNotifies-PendingIntent-">makeNotifies</a></span>(PendingIntent&nbsp;pi)</code>
<div class="block">Macht viele Notifikations.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/vibora/vibora_dieapp/Refresher.html#makeNotify-PendingIntent-">makeNotify</a></span>(PendingIntent&nbsp;pi)</code>
<div class="block">Macht einzelne Notifikation.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static <a href="../../../de/vibora/vibora_dieapp/Refresher.html" title="class in de.vibora.vibora_dieapp">Refresher</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/vibora/vibora_dieapp/Refresher.html#ME-Context-">ME</a></span>(Context&nbsp;ctx)</code>
<div class="block">Refresher ist als Singelton ausgelegt.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../de/vibora/vibora_dieapp/Refresher.html#newStuff-java.net.URL-">newStuff</a></span>(java.net.URL&nbsp;url)</code>
<div class="block">Methode sendet If-Modified-Since und wertet den Response Code aus.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="Z:Z_newFeeds">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>_newFeeds</h4>
<pre>public&nbsp;java.util.ArrayList&lt;ContentValues&gt; _newFeeds</pre>
<div class="block">Dieses Array nimmt neue Feeds auf, um beim Erzeugen von Notifikations nicht
 den umweg über die Datenbank gehen zu müssen.</div>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="ME-Context-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ME</h4>
<pre>public static&nbsp;<a href="../../../de/vibora/vibora_dieapp/Refresher.html" title="class in de.vibora.vibora_dieapp">Refresher</a>&nbsp;ME(Context&nbsp;ctx)</pre>
<div class="block">Refresher ist als Singelton ausgelegt.
 Der Context wird übergeben, da <a href="../../../de/vibora/vibora_dieapp/ViboraApp.html#getContextOfApplication--"><code>ViboraApp.getContextOfApplication()</code></a>
 nicht tat. Scheinbar hat Alarm bzw der frühere Service nicht auf ViboraApp
 zugreifen konnte.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ctx</code> - Der Kontext der Application.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the refresher</dd>
</dl>
</li>
</ul>
<a name="isReallyFresh-java.util.Date-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isReallyFresh</h4>
<pre>public&nbsp;boolean&nbsp;isReallyFresh(java.util.Date&nbsp;date,
                             java.lang.String&nbsp;title)</pre>
<div class="block">Entscheidet, ob ein Feed neu ist.
 In ersten Schritt werden Feeds ignoriert, die DAYS_BEFORE_EXPUNGE überschreiten.
 Das ist wichtig, da sonst bereits aus der Datenbank entfernte Feeds als
 neu erkannt werden. Im zweiten Schritt wird lediglich der Titel in der
 Datenbank gesucht. Existiert dieser nicht, so wird true zurückgegeben.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>date</code> - the date</dd>
<dd><code>title</code> - the title</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the boolean</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../de/vibora/vibora_dieapp/ViboraApp.Config.html" title="class in de.vibora.vibora_dieapp"><code>ViboraApp.Config</code></a></dd>
</dl>
</li>
</ul>
<a name="isOnline--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOnline</h4>
<pre>public&nbsp;boolean&nbsp;isOnline()</pre>
<div class="block">Prüft, ob das Gerät online ist.
 Sollte z.B. wegen dem Flugmodus keine Verbindung bestehen, wird false zurückgegeben</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>ist true, wenn ein zugang zu einem Netz besteht</dd>
</dl>
</li>
</ul>
<a name="ifModifiedSinceDate--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ifModifiedSinceDate</h4>
<pre>public&nbsp;java.lang.String&nbsp;ifModifiedSinceDate()</pre>
<div class="block">Holt aus den Preferences das Date des letzten Refresh.
 Beim Datum wird +0200 nach GMT entfernt und die Stundenzahl angepasst. Sollte
 in den Preferences kein Datum sein,
 wird DAYS_BEFORE_EXPUNGE zur Erzeugung
 eines Datums in der Vergangenheit genutzt.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a string with a 'good' HTTP Mod Time Request format</dd>
</dl>
</li>
</ul>
<a name="newStuff-java.net.URL-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newStuff</h4>
<pre>public&nbsp;boolean&nbsp;newStuff(java.net.URL&nbsp;url)
                 throws java.lang.Exception</pre>
<div class="block">Methode sendet If-Modified-Since und wertet den Response Code aus.
 Könnte false negativ sein, wenn 301 (dauerhaft umgezogen) kommt.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>url</code> - the url with http://</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>false, wenn HTTP_NOT_MODIFIED oder der Code nicht 200 ist</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - ausgelöst, wenn z.B. die url nicht stimmt</dd>
</dl>
</li>
</ul>
<a name="getDoc--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDoc</h4>
<pre>public&nbsp;org.w3c.dom.Document&nbsp;getDoc()</pre>
<div class="block">Holt Seite von _rssurl und legt diese in XML-Doc ab.
 Die Methode setzt in den Preferences das Datum der letzten Änderung.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the doc</dd>
</dl>
</li>
</ul>
<a name="insertToDb-org.w3c.dom.Document-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertToDb</h4>
<pre>public&nbsp;void&nbsp;insertToDb(org.w3c.dom.Document&nbsp;doc)</pre>
<div class="block">Das Doc wird ausgelesen und in die DB geschrieben.
 Die neuen Feeds werden auch in _newFeeds abgelegt. Das _newFeeds Array wird
 so sortiert, dass die neusten Feeds bei id 0 zu finden sind.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>doc</code> - the doc</dd>
</dl>
</li>
</ul>
<a name="makeNotify-PendingIntent-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>makeNotify</h4>
<pre>public&nbsp;void&nbsp;makeNotify(PendingIntent&nbsp;pi)</pre>
<div class="block">Macht einzelne Notifikation.
 Diese wird dargestellt wie eine HeadUp Nachricht.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pi</code> - Der PendingIntent, wenn man auf die Notification klickt</dd>
</dl>
</li>
</ul>
<a name="makeNotifies-PendingIntent-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>makeNotifies</h4>
<pre>public&nbsp;void&nbsp;makeNotifies(PendingIntent&nbsp;pi)</pre>
<div class="block">Macht viele Notifikations. Nur eine davon bekommt einen Sound.
 Als zusätzliche Action wird das öffnen des Feed-Links im Browser eingefügt.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pi</code> - Der PendingIntent, wenn man auf die Notification klickt</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../de/vibora/vibora_dieapp/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../de/vibora/vibora_dieapp/QuitDialogFragment.html" title="class in de.vibora.vibora_dieapp"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../de/vibora/vibora_dieapp/ViboraApp.html" title="class in de.vibora.vibora_dieapp"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?de/vibora/vibora_dieapp/Refresher.html" target="_top">Frames</a></li>
<li><a href="Refresher.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
